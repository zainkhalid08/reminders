models:
  Tag:
    name: string
    synonyms: longtext

  Location:
    name: string
    image_src: string nullable # not tested 

  Speaker:
    name: string
    image_src: string nullable # not tested 
    bio: mediumtext nullable # not tested 
    location_id: id:locations # not tested 

  Post:
    title: string
    content: longtext
    speaker_id: nullable id:speakers
    location_id: nullable id:locations
    date: date
    islamic_date: string
    video_src: string:100 
    image_src: nullable string:100 
    mins_read: nullable int
    user_id: id:users
    published_at: nullable timestamp
    softDeletes

  PostTag:
    post_id: id:posts
    tag_id: id:tags

controllers:
  Home:
    index:
      query: post.limit:5
      view: welcome with:post 

  Post:
    index:
      query: all
      render: post.index with:posts

    store:
      validate: title, content, speaker_id, location_id, video_src, date, user_id
      save: post
      fire: NewPost with:post
      flash: post.title
      redirect: post.index

    show:
      find: post.id
      view: post with:post 
